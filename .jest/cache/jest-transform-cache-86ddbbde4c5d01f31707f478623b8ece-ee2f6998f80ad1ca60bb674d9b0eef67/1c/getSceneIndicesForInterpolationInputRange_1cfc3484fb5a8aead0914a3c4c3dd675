186041e6cdb34ee34fa174439d12a053
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function getSceneIndicesForInterpolationInputRange(props) {
  var scene = props.scene,
      scenes = props.scenes;
  var index = scene.index;
  var lastSceneIndexInScenes = scenes.length - 1;
  var isBack = !scenes[lastSceneIndexInScenes].isActive;

  if (isBack) {
    var currentSceneIndexInScenes = scenes.findIndex(function (item) {
      return item === scene;
    });
    var targetSceneIndexInScenes = scenes.findIndex(function (item) {
      return item.isActive;
    });
    var targetSceneIndex = scenes[targetSceneIndexInScenes].index;
    var lastSceneIndex = scenes[lastSceneIndexInScenes].index;

    if (index !== targetSceneIndex && currentSceneIndexInScenes === lastSceneIndexInScenes) {
      return {
        first: Math.min(targetSceneIndex, index - 1),
        last: index + 1
      };
    } else if (index === targetSceneIndex && currentSceneIndexInScenes === targetSceneIndexInScenes) {
      return {
        first: index - 1,
        last: Math.max(lastSceneIndex, index + 1)
      };
    } else if (index === targetSceneIndex || currentSceneIndexInScenes > targetSceneIndexInScenes) {
      return null;
    } else {
      return {
        first: index - 1,
        last: index + 1
      };
    }
  } else {
    return {
      first: index - 1,
      last: index + 1
    };
  }
}

var _default = getSceneIndicesForInterpolationInputRange;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFNjZW5lSW5kaWNlc0ZvckludGVycG9sYXRpb25JbnB1dFJhbmdlLnRzeCJdLCJuYW1lcyI6WyJzY2VuZSIsInNjZW5lcyIsInByb3BzIiwiaW5kZXgiLCJsYXN0U2NlbmVJbmRleEluU2NlbmVzIiwiaXNCYWNrIiwiY3VycmVudFNjZW5lSW5kZXhJblNjZW5lcyIsIml0ZW0iLCJ0YXJnZXRTY2VuZUluZGV4SW5TY2VuZXMiLCJ0YXJnZXRTY2VuZUluZGV4IiwibGFzdFNjZW5lSW5kZXgiLCJmaXJzdCIsIk1hdGgiLCJsYXN0IiwiZ2V0U2NlbmVJbmRpY2VzRm9ySW50ZXJwb2xhdGlvbklucHV0UmFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7O0FBT0EsU0FBQSx5Q0FBQSxDQUFBLEtBQUEsRUFBaUU7QUFBQSxNQUN2REEsS0FEdUQsR0FDckNFLEtBRHFDLENBQUEsS0FBQTtBQUFBLE1BQ2hERCxNQURnRCxHQUNyQ0MsS0FEcUMsQ0FBQSxNQUFBO0FBRS9ELE1BQU1DLEtBQUssR0FBR0gsS0FBSyxDQUFuQixLQUFBO0FBQ0EsTUFBTUksc0JBQXNCLEdBQUdILE1BQU0sQ0FBTkEsTUFBQUEsR0FBL0IsQ0FBQTtBQUNBLE1BQU1JLE1BQU0sR0FBRyxDQUFDSixNQUFNLENBQU5BLHNCQUFNLENBQU5BLENBQWhCLFFBQUE7O0FBRUEsTUFBQSxNQUFBLEVBQVk7QUFDVixRQUFNSyx5QkFBeUIsR0FBR0wsTUFBTSxDQUFOQSxTQUFBQSxDQUFpQixVQUFBLElBQUEsRUFBSTtBQUFBLGFBQUlNLElBQUksS0FBUixLQUFBO0FBQXZELEtBQWtDTixDQUFsQztBQUNBLFFBQU1PLHdCQUF3QixHQUFHUCxNQUFNLENBQU5BLFNBQUFBLENBQWlCLFVBQUEsSUFBQSxFQUFJO0FBQUEsYUFBSU0sSUFBSSxDQUFSLFFBQUE7QUFBdEQsS0FBaUNOLENBQWpDO0FBQ0EsUUFBTVEsZ0JBQWdCLEdBQUdSLE1BQU0sQ0FBTkEsd0JBQU0sQ0FBTkEsQ0FBekIsS0FBQTtBQUNBLFFBQU1TLGNBQWMsR0FBR1QsTUFBTSxDQUFOQSxzQkFBTSxDQUFOQSxDQUF2QixLQUFBOztBQUVBLFFBQ0VFLEtBQUssS0FBTEEsZ0JBQUFBLElBQ0FHLHlCQUF5QixLQUYzQixzQkFBQSxFQUdFO0FBQ0EsYUFBTztBQUNMSyxRQUFBQSxLQUFLLEVBQUVDLElBQUksQ0FBSkEsR0FBQUEsQ0FBQUEsZ0JBQUFBLEVBQTJCVCxLQUFLLEdBRGxDLENBQ0VTLENBREY7QUFFTEMsUUFBQUEsSUFBSSxFQUFFVixLQUFLLEdBRmI7QUFBTyxPQUFQO0FBSkYsS0FBQSxNQVFPLElBQ0xBLEtBQUssS0FBTEEsZ0JBQUFBLElBQ0FHLHlCQUF5QixLQUZwQix3QkFBQSxFQUdMO0FBQ0EsYUFBTztBQUNMSyxRQUFBQSxLQUFLLEVBQUVSLEtBQUssR0FEUCxDQUFBO0FBRUxVLFFBQUFBLElBQUksRUFBRUQsSUFBSSxDQUFKQSxHQUFBQSxDQUFBQSxjQUFBQSxFQUF5QlQsS0FBSyxHQUZ0QyxDQUVRUztBQUZELE9BQVA7QUFKSyxLQUFBLE1BUUEsSUFDTFQsS0FBSyxLQUFMQSxnQkFBQUEsSUFDQUcseUJBQXlCLEdBRnBCLHdCQUFBLEVBR0w7QUFDQSxhQUFBLElBQUE7QUFKSyxLQUFBLE1BS0E7QUFDTCxhQUFPO0FBQUVLLFFBQUFBLEtBQUssRUFBRVIsS0FBSyxHQUFkLENBQUE7QUFBb0JVLFFBQUFBLElBQUksRUFBRVYsS0FBSyxHQUF0QztBQUFPLE9BQVA7QUFFSDtBQTlCRCxHQUFBLE1BOEJPO0FBQ0wsV0FBTztBQUFFUSxNQUFBQSxLQUFLLEVBQUVSLEtBQUssR0FBZCxDQUFBO0FBQW9CVSxNQUFBQSxJQUFJLEVBQUVWLEtBQUssR0FBdEM7QUFBTyxLQUFQO0FBRUg7OztlQUVjVyx5QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjZW5lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG50eXBlIFByb3BzID0ge1xuICBzY2VuZTogU2NlbmU7XG4gIHNjZW5lczogU2NlbmVbXTtcbn07XG5cbmZ1bmN0aW9uIGdldFNjZW5lSW5kaWNlc0ZvckludGVycG9sYXRpb25JbnB1dFJhbmdlKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IHNjZW5lLCBzY2VuZXMgfSA9IHByb3BzO1xuICBjb25zdCBpbmRleCA9IHNjZW5lLmluZGV4O1xuICBjb25zdCBsYXN0U2NlbmVJbmRleEluU2NlbmVzID0gc2NlbmVzLmxlbmd0aCAtIDE7XG4gIGNvbnN0IGlzQmFjayA9ICFzY2VuZXNbbGFzdFNjZW5lSW5kZXhJblNjZW5lc10uaXNBY3RpdmU7XG5cbiAgaWYgKGlzQmFjaykge1xuICAgIGNvbnN0IGN1cnJlbnRTY2VuZUluZGV4SW5TY2VuZXMgPSBzY2VuZXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gc2NlbmUpO1xuICAgIGNvbnN0IHRhcmdldFNjZW5lSW5kZXhJblNjZW5lcyA9IHNjZW5lcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlzQWN0aXZlKTtcbiAgICBjb25zdCB0YXJnZXRTY2VuZUluZGV4ID0gc2NlbmVzW3RhcmdldFNjZW5lSW5kZXhJblNjZW5lc10uaW5kZXg7XG4gICAgY29uc3QgbGFzdFNjZW5lSW5kZXggPSBzY2VuZXNbbGFzdFNjZW5lSW5kZXhJblNjZW5lc10uaW5kZXg7XG5cbiAgICBpZiAoXG4gICAgICBpbmRleCAhPT0gdGFyZ2V0U2NlbmVJbmRleCAmJlxuICAgICAgY3VycmVudFNjZW5lSW5kZXhJblNjZW5lcyA9PT0gbGFzdFNjZW5lSW5kZXhJblNjZW5lc1xuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmlyc3Q6IE1hdGgubWluKHRhcmdldFNjZW5lSW5kZXgsIGluZGV4IC0gMSksXG4gICAgICAgIGxhc3Q6IGluZGV4ICsgMSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGluZGV4ID09PSB0YXJnZXRTY2VuZUluZGV4ICYmXG4gICAgICBjdXJyZW50U2NlbmVJbmRleEluU2NlbmVzID09PSB0YXJnZXRTY2VuZUluZGV4SW5TY2VuZXNcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZpcnN0OiBpbmRleCAtIDEsXG4gICAgICAgIGxhc3Q6IE1hdGgubWF4KGxhc3RTY2VuZUluZGV4LCBpbmRleCArIDEpLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgaW5kZXggPT09IHRhcmdldFNjZW5lSW5kZXggfHxcbiAgICAgIGN1cnJlbnRTY2VuZUluZGV4SW5TY2VuZXMgPiB0YXJnZXRTY2VuZUluZGV4SW5TY2VuZXNcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBmaXJzdDogaW5kZXggLSAxLCBsYXN0OiBpbmRleCArIDEgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgZmlyc3Q6IGluZGV4IC0gMSwgbGFzdDogaW5kZXggKyAxIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0U2NlbmVJbmRpY2VzRm9ySW50ZXJwb2xhdGlvbklucHV0UmFuZ2U7XG4iXX0=