74df22cba89df73719f095b0f03a7347
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _reactNative = require("react-native");

var _StackViewStyleInterpolator = _interopRequireDefault(require("./StackViewStyleInterpolator"));

var _ReactNativeFeatures = require("../../utils/ReactNativeFeatures");

var IOSTransitionSpec;

if ((0, _ReactNativeFeatures.supportsImprovedSpringAnimation)()) {
  IOSTransitionSpec = {
    timing: _reactNative.Animated.spring,
    stiffness: 1000,
    damping: 500,
    mass: 3,
    overshootClamping: true,
    restDisplacementThreshold: 0.01,
    restSpeedThreshold: 0.01
  };
} else {
  IOSTransitionSpec = {
    duration: 500,
    easing: _reactNative.Easing.bezier(0.2833, 0.99, 0.31833, 0.99),
    timing: _reactNative.Animated.timing
  };
}

var SlideFromRightIOS = {
  transitionSpec: IOSTransitionSpec,
  screenInterpolator: _StackViewStyleInterpolator.default.forHorizontal,
  containerStyle: {
    backgroundColor: '#eee'
  }
};
var ModalSlideFromBottomIOS = {
  transitionSpec: IOSTransitionSpec,
  screenInterpolator: _StackViewStyleInterpolator.default.forVertical,
  containerStyle: {
    backgroundColor: '#eee'
  }
};
var FadeInFromBottomAndroid = {
  transitionSpec: {
    duration: 350,
    easing: _reactNative.Easing.out(_reactNative.Easing.poly(5)),
    timing: _reactNative.Animated.timing
  },
  screenInterpolator: _StackViewStyleInterpolator.default.forFadeFromBottomAndroid
};
var FadeOutToBottomAndroid = {
  transitionSpec: {
    duration: 150,
    easing: _reactNative.Easing.in(_reactNative.Easing.linear),
    timing: _reactNative.Animated.timing
  },
  screenInterpolator: _StackViewStyleInterpolator.default.forFadeToBottomAndroid
};
var NoAnimation = {
  transitionSpec: {
    duration: 0,
    timing: _reactNative.Animated.timing
  },
  screenInterpolator: _StackViewStyleInterpolator.default.forNoAnimation,
  containerStyle: {
    backgroundColor: '#eee'
  }
};

function defaultTransitionConfig(transitionProps, prevTransitionProps, isModal) {
  if (_reactNative.Platform.OS !== 'ios') {
    if (prevTransitionProps && transitionProps.index < prevTransitionProps.index) {
      return FadeOutToBottomAndroid;
    }

    return FadeInFromBottomAndroid;
  }

  if (isModal) {
    return ModalSlideFromBottomIOS;
  }

  return SlideFromRightIOS;
}

function getTransitionConfig(transitionConfigurer, transitionProps, prevTransitionProps, isModal) {
  var defaultConfig = defaultTransitionConfig(transitionProps, prevTransitionProps, isModal);

  if (transitionConfigurer) {
    return (0, _objectSpread2.default)({}, defaultConfig, transitionConfigurer(transitionProps, prevTransitionProps, isModal));
  }

  return defaultConfig;
}

var _default = {
  defaultTransitionConfig: defaultTransitionConfig,
  getTransitionConfig: getTransitionConfig,
  SlideFromRightIOS: SlideFromRightIOS,
  ModalSlideFromBottomIOS: ModalSlideFromBottomIOS,
  FadeInFromBottomAndroid: FadeInFromBottomAndroid,
  FadeOutToBottomAndroid: FadeOutToBottomAndroid,
  NoAnimation: NoAnimation
};
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0YWNrVmlld1RyYW5zaXRpb25Db25maWdzLnRzeCJdLCJuYW1lcyI6WyJJT1NUcmFuc2l0aW9uU3BlYyIsInRpbWluZyIsIkFuaW1hdGVkIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsIm1hc3MiLCJvdmVyc2hvb3RDbGFtcGluZyIsInJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQiLCJyZXN0U3BlZWRUaHJlc2hvbGQiLCJkdXJhdGlvbiIsImVhc2luZyIsIkVhc2luZyIsIlNsaWRlRnJvbVJpZ2h0SU9TIiwidHJhbnNpdGlvblNwZWMiLCJzY3JlZW5JbnRlcnBvbGF0b3IiLCJTdHlsZUludGVycG9sYXRvciIsImNvbnRhaW5lclN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiTW9kYWxTbGlkZUZyb21Cb3R0b21JT1MiLCJGYWRlSW5Gcm9tQm90dG9tQW5kcm9pZCIsIkZhZGVPdXRUb0JvdHRvbUFuZHJvaWQiLCJOb0FuaW1hdGlvbiIsIlBsYXRmb3JtIiwicHJldlRyYW5zaXRpb25Qcm9wcyIsInRyYW5zaXRpb25Qcm9wcyIsImRlZmF1bHRDb25maWciLCJkZWZhdWx0VHJhbnNpdGlvbkNvbmZpZyIsInRyYW5zaXRpb25Db25maWd1cmVyIiwiZ2V0VHJhbnNpdGlvbkNvbmZpZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFDQSxJQUFBLDJCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsOEJBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsb0JBQUEsR0FBQSxPQUFBLENBQUEsaUNBQUEsQ0FBQTs7QUFHQSxJQUFBLGlCQUFBOztBQUNBLElBQUksQ0FBQSxHQUFBLG9CQUFBLENBQUosK0JBQUksR0FBSixFQUF1QztBQUVyQ0EsRUFBQUEsaUJBQWlCLEdBQUc7QUFDbEJDLElBQUFBLE1BQU0sRUFBRUMsWUFBQUEsQ0FBQUEsUUFBQUEsQ0FEVSxNQUFBO0FBRWxCQyxJQUFBQSxTQUFT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dUJBQUE7QUFHRjs7QUFBQSxNQUFBLE9BQUEsRUFBYTtBQUNYLFdBQUEsdUJBQUE7QUFFRjs7QUFBQSxTQUFBLGlCQUFBO0FBR0Y7O0FBQUEsU0FBQSxtQkFBQSxDQUFBLG9CQUFBLEVBQUEsZUFBQSxFQUFBLG1CQUFBLEVBQUEsT0FBQSxFQVd3QjtBQUN0QixNQUFNRSxhQUFhLEdBQUdDLHVCQUF1QixDQUFBLGVBQUEsRUFBQSxtQkFBQSxFQUE3QyxPQUE2QyxDQUE3Qzs7QUFLQSxNQUFBLG9CQUFBLEVBQTBCO0FBQ3hCLFdBQUEsQ0FBQSxHQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLGFBQUEsRUFFS0Msb0JBQW9CLENBQUEsZUFBQSxFQUFBLG1CQUFBLEVBRnpCLE9BRXlCLENBRnpCLENBQUE7QUFNRjs7QUFBQSxTQUFBLGFBQUE7OztlQUdhO0FBQ2JELEVBQUFBLHVCQUF1QixFQURWLHVCQUFBO0FBRWJFLEVBQUFBLG1CQUFtQixFQUZOLG1CQUFBO0FBR2JoQixFQUFBQSxpQkFBaUIsRUFISixpQkFBQTtBQUliTSxFQUFBQSx1QkFBdUIsRUFKVix1QkFBQTtBQUtiQyxFQUFBQSx1QkFBdUIsRUFMVix1QkFBQTtBQU1iQyxFQUFBQSxzQkFBc0IsRUFOVCxzQkFBQTtBQU9iQyxFQUFBQSxXQUFXLEVBUEU7QUFBQSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW5pbWF0ZWQsIEVhc2luZywgUGxhdGZvcm0gfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFN0eWxlSW50ZXJwb2xhdG9yIGZyb20gJy4vU3RhY2tWaWV3U3R5bGVJbnRlcnBvbGF0b3InO1xuaW1wb3J0IHsgc3VwcG9ydHNJbXByb3ZlZFNwcmluZ0FuaW1hdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL1JlYWN0TmF0aXZlRmVhdHVyZXMnO1xuaW1wb3J0IHsgVHJhbnNpdGlvblByb3BzLCBUcmFuc2l0aW9uQ29uZmlnIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5sZXQgSU9TVHJhbnNpdGlvblNwZWM7XG5pZiAoc3VwcG9ydHNJbXByb3ZlZFNwcmluZ0FuaW1hdGlvbigpKSB7XG4gIC8vIFRoZXNlIGFyZSB0aGUgZXhhY3QgdmFsdWVzIGZyb20gVUlOYXZpZ2F0aW9uQ29udHJvbGxlcidzIGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gIElPU1RyYW5zaXRpb25TcGVjID0ge1xuICAgIHRpbWluZzogQW5pbWF0ZWQuc3ByaW5nLFxuICAgIHN0aWZmbmVzczogMTAwMCxcbiAgICBkYW1waW5nOiA1MDAsXG4gICAgbWFzczogMyxcbiAgICBvdmVyc2hvb3RDbGFtcGluZzogdHJ1ZSxcbiAgICByZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkOiAwLjAxLFxuICAgIHJlc3RTcGVlZFRocmVzaG9sZDogMC4wMSxcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIFRoaXMgaXMgYW4gYXBwcm94aW1hdGlvbiBvZiB0aGUgSU9TIHNwcmluZyBhbmltYXRpb24gdXNpbmcgYSBkZXJpdmVkIGJlemllciBjdXJ2ZVxuICBJT1NUcmFuc2l0aW9uU3BlYyA9IHtcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGVhc2luZzogRWFzaW5nLmJlemllcigwLjI4MzMsIDAuOTksIDAuMzE4MzMsIDAuOTkpLFxuICAgIHRpbWluZzogQW5pbWF0ZWQudGltaW5nLFxuICB9O1xufVxuXG4vLyBTdGFuZGFyZCBpT1MgbmF2aWdhdGlvbiB0cmFuc2l0aW9uXG5jb25zdCBTbGlkZUZyb21SaWdodElPUyA9IHtcbiAgdHJhbnNpdGlvblNwZWM6IElPU1RyYW5zaXRpb25TcGVjLFxuICBzY3JlZW5JbnRlcnBvbGF0b3I6IFN0eWxlSW50ZXJwb2xhdG9yLmZvckhvcml6b250YWwsXG4gIGNvbnRhaW5lclN0eWxlOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2VlZScsXG4gIH0sXG59O1xuXG4vLyBTdGFuZGFyZCBpT1MgbmF2aWdhdGlvbiB0cmFuc2l0aW9uIGZvciBtb2RhbHNcbmNvbnN0IE1vZGFsU2xpZGVGcm9tQm90dG9tSU9TID0ge1xuICB0cmFuc2l0aW9uU3BlYzogSU9TVHJhbnNpdGlvblNwZWMsXG4gIHNjcmVlbkludGVycG9sYXRvcjogU3R5bGVJbnRlcnBvbGF0b3IuZm9yVmVydGljYWwsXG4gIGNvbnRhaW5lclN0eWxlOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2VlZScsXG4gIH0sXG59O1xuXG4vLyBTdGFuZGFyZCBBbmRyb2lkIG5hdmlnYXRpb24gdHJhbnNpdGlvbiB3aGVuIG9wZW5pbmcgYW4gQWN0aXZpdHlcbmNvbnN0IEZhZGVJbkZyb21Cb3R0b21BbmRyb2lkID0ge1xuICAvLyBTZWUgaHR0cDovL2FuZHJvaWR4cmVmLmNvbS83LjEuMV9yNi94cmVmL2ZyYW1ld29ya3MvYmFzZS9jb3JlL3Jlcy9yZXMvYW5pbS9hY3Rpdml0eV9vcGVuX2VudGVyLnhtbFxuICB0cmFuc2l0aW9uU3BlYzoge1xuICAgIGR1cmF0aW9uOiAzNTAsXG4gICAgZWFzaW5nOiBFYXNpbmcub3V0KEVhc2luZy5wb2x5KDUpKSwgLy8gZGVjZWxlcmF0ZVxuICAgIHRpbWluZzogQW5pbWF0ZWQudGltaW5nLFxuICB9LFxuICBzY3JlZW5JbnRlcnBvbGF0b3I6IFN0eWxlSW50ZXJwb2xhdG9yLmZvckZhZGVGcm9tQm90dG9tQW5kcm9pZCxcbn07XG5cbi8vIFN0YW5kYXJkIEFuZHJvaWQgbmF2aWdhdGlvbiB0cmFuc2l0aW9uIHdoZW4gY2xvc2luZyBhbiBBY3Rpdml0eVxuY29uc3QgRmFkZU91dFRvQm90dG9tQW5kcm9pZCA9IHtcbiAgLy8gU2VlIGh0dHA6Ly9hbmRyb2lkeHJlZi5jb20vNy4xLjFfcjYveHJlZi9mcmFtZXdvcmtzL2Jhc2UvY29yZS9yZXMvcmVzL2FuaW0vYWN0aXZpdHlfY2xvc2VfZXhpdC54bWxcbiAgdHJhbnNpdGlvblNwZWM6IHtcbiAgICBkdXJhdGlvbjogMTUwLFxuICAgIGVhc2luZzogRWFzaW5nLmluKEVhc2luZy5saW5lYXIpLCAvLyBhY2NlbGVyYXRlXG4gICAgdGltaW5nOiBBbmltYXRlZC50aW1pbmcsXG4gIH0sXG4gIHNjcmVlbkludGVycG9sYXRvcjogU3R5bGVJbnRlcnBvbGF0b3IuZm9yRmFkZVRvQm90dG9tQW5kcm9pZCxcbn07XG5cbmNvbnN0IE5vQW5pbWF0aW9uID0ge1xuICB0cmFuc2l0aW9uU3BlYzoge1xuICAgIGR1cmF0aW9uOiAwLFxuICAgIHRpbWluZzogQW5pbWF0ZWQudGltaW5nLFxuICB9LFxuICBzY3JlZW5JbnRlcnBvbGF0b3I6IFN0eWxlSW50ZXJwb2xhdG9yLmZvck5vQW5pbWF0aW9uLFxuICBjb250YWluZXJTdHlsZToge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNlZWUnLFxuICB9LFxufTtcblxuZnVuY3Rpb24gZGVmYXVsdFRyYW5zaXRpb25Db25maWcoXG4gIHRyYW5zaXRpb25Qcm9wczogVHJhbnNpdGlvblByb3BzLFxuICBwcmV2VHJhbnNpdGlvblByb3BzPzogVHJhbnNpdGlvblByb3BzLFxuICBpc01vZGFsPzogYm9vbGVhblxuKTogVHJhbnNpdGlvbkNvbmZpZyB7XG4gIGlmIChQbGF0Zm9ybS5PUyAhPT0gJ2lvcycpIHtcbiAgICAvLyBVc2UgdGhlIGRlZmF1bHQgQW5kcm9pZCBhbmltYXRpb24gbm8gbWF0dGVyIGlmIHRoZSBzY3JlZW4gaXMgYSBtb2RhbC5cbiAgICAvLyBBbmRyb2lkIGRvZXNuJ3QgaGF2ZSBmdWxsLXNjcmVlbiBtb2RhbHMgbGlrZSBpT1MgZG9lcywgaXQgaGFzIGRpYWxvZ3MuXG4gICAgaWYgKFxuICAgICAgcHJldlRyYW5zaXRpb25Qcm9wcyAmJlxuICAgICAgdHJhbnNpdGlvblByb3BzLmluZGV4IDwgcHJldlRyYW5zaXRpb25Qcm9wcy5pbmRleFxuICAgICkge1xuICAgICAgLy8gTmF2aWdhdGluZyBiYWNrIHRvIHRoZSBwcmV2aW91cyBzY3JlZW5cbiAgICAgIHJldHVybiBGYWRlT3V0VG9Cb3R0b21BbmRyb2lkO1xuICAgIH1cbiAgICByZXR1cm4gRmFkZUluRnJvbUJvdHRvbUFuZHJvaWQ7XG4gIH1cbiAgLy8gaU9TIGFuZCBvdGhlciBwbGF0Zm9ybXNcbiAgaWYgKGlzTW9kYWwpIHtcbiAgICByZXR1cm4gTW9kYWxTbGlkZUZyb21Cb3R0b21JT1M7XG4gIH1cbiAgcmV0dXJuIFNsaWRlRnJvbVJpZ2h0SU9TO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uQ29uZmlnPFQgPSB7fT4oXG4gIHRyYW5zaXRpb25Db25maWd1cmVyOlxuICAgIHwgdW5kZWZpbmVkXG4gICAgfCAoKFxuICAgICAgICB0cmFuc2l0aW9uUHJvcHM6IFRyYW5zaXRpb25Qcm9wcyxcbiAgICAgICAgcHJldlRyYW5zaXRpb25Qcm9wcz86IFRyYW5zaXRpb25Qcm9wcyxcbiAgICAgICAgaXNNb2RhbD86IGJvb2xlYW5cbiAgICAgICkgPT4gVCksXG4gIHRyYW5zaXRpb25Qcm9wczogVHJhbnNpdGlvblByb3BzLFxuICBwcmV2VHJhbnNpdGlvblByb3BzPzogVHJhbnNpdGlvblByb3BzLFxuICBpc01vZGFsPzogYm9vbGVhblxuKTogVHJhbnNpdGlvbkNvbmZpZyAmIFQge1xuICBjb25zdCBkZWZhdWx0Q29uZmlnID0gZGVmYXVsdFRyYW5zaXRpb25Db25maWcoXG4gICAgdHJhbnNpdGlvblByb3BzLFxuICAgIHByZXZUcmFuc2l0aW9uUHJvcHMsXG4gICAgaXNNb2RhbFxuICApO1xuICBpZiAodHJhbnNpdGlvbkNvbmZpZ3VyZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGVmYXVsdENvbmZpZyxcbiAgICAgIC4uLnRyYW5zaXRpb25Db25maWd1cmVyKHRyYW5zaXRpb25Qcm9wcywgcHJldlRyYW5zaXRpb25Qcm9wcywgaXNNb2RhbCksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0Q29uZmlnIGFzIGFueTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBkZWZhdWx0VHJhbnNpdGlvbkNvbmZpZyxcbiAgZ2V0VHJhbnNpdGlvbkNvbmZpZyxcbiAgU2xpZGVGcm9tUmlnaHRJT1MsXG4gIE1vZGFsU2xpZGVGcm9tQm90dG9tSU9TLFxuICBGYWRlSW5Gcm9tQm90dG9tQW5kcm9pZCxcbiAgRmFkZU91dFRvQm90dG9tQW5kcm9pZCxcbiAgTm9BbmltYXRpb24sXG59O1xuIl19