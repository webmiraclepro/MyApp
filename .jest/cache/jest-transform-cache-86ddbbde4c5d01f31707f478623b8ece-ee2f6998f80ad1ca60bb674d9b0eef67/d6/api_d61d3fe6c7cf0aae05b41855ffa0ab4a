5c934ef4cc415461c58622b35b27834b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _axios = _interopRequireDefault(require("axios"));

var _lodash = require("lodash");

var _constants = require("../constants");

var getUsers = function getUsers() {
  var response;
  return _regenerator.default.async(function getUsers$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _regenerator.default.awrap(_axios.default.get(_constants.API_URL, {
            params: {
              key: _constants.API_KEY,
              ref: _constants.API_REF
            }
          }));

        case 2:
          response = _context.sent;
          console.log(response);
          return _context.abrupt("return", (0, _lodash.get)(response, 'data.results', []));

        case 5:
        case "end":
          return _context.stop();
      }
    }
  });
};

var _default = {
  getUsers: getUsers
};
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS50cyJdLCJuYW1lcyI6WyJnZXRVc2VycyIsImF4aW9zIiwiZ2V0IiwiQVBJX1VSTCIsInBhcmFtcyIsImtleSIsIkFQSV9LRVkiLCJyZWYiLCJBUElfUkVGIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQTs7QUFTQSxJQUFNQSxRQUFRLEdBQUcsU0FBWEEsUUFBVztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDRDQUNRQyxlQUFNQyxHQUFOLENBQVVDLGtCQUFWLEVBQW1CO0FBQ3hDQyxZQUFBQSxNQUFNLEVBQUU7QUFDTkMsY0FBQUEsR0FBRyxFQUFFQyxrQkFEQztBQUVOQyxjQUFBQSxHQUFHLEVBQUVDO0FBRkM7QUFEZ0MsV0FBbkIsQ0FEUjs7QUFBQTtBQUNUQyxVQUFBQSxRQURTO0FBT2ZDLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixRQUFaO0FBUGUsMkNBUVIsaUJBQUlBLFFBQUosRUFBYyxjQUFkLEVBQThCLEVBQTlCLENBUlE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsQ0FBakI7O2VBV2U7QUFDYlQsRUFBQUEsUUFBUSxFQUFSQTtBQURhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQge1xuICBnZXRcbn0gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHtcbiAgQVBJX1VSTCxcbiAgQVBJX0tFWSxcbiAgQVBJX1JFRixcbn0gZnJvbSAnLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHtcbiAgVXNlclxufSBmcm9tICcuLi9tb2RlbHMnXG5cbmNvbnN0IGdldFVzZXJzID0gYXN5bmMgKCkgOiBQcm9taXNlPEFycmF5PFVzZXI+PiA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KEFQSV9VUkwsIHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIGtleTogQVBJX0tFWSxcbiAgICAgIHJlZjogQVBJX1JFRixcbiAgICB9XG4gIH0pXG4gIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICByZXR1cm4gZ2V0KHJlc3BvbnNlLCAnZGF0YS5yZXN1bHRzJywgW10pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0VXNlcnMsXG59Il19